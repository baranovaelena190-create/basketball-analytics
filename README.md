# üèÄ BASKETBALL PREDICTION PROJECT

–°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è –±–∞—Å–∫–µ—Ç–±–æ–ª—å–Ω—ã—Ö –º–∞—Ç—á–µ–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è.

---

## üöÄ –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–∏—Å—Ç–µ–º—ã
```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh root@your_server

# –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø—Ä–æ–µ–∫—Ç
cd /root/basketball_project

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ë–î
sqlite3 data/basketball.db "SELECT COUNT(*) FROM games;"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –ø—Ä–æ–≥–Ω–æ–∑—ã
cat ml_models/predictions_today_v7.json | python3 -m json.tool | head -50

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
tail -50 logs/cron.log
```

---

## üìã –û–°–ù–û–í–ù–´–ï –ö–û–ú–ê–ù–î–´

### –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ë–î
```bash
cd /root/basketball_project/scripts
./daily_update_db.sh
```

### –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤
```bash
cd /root/basketball_project/scripts
./daily_predictions.sh
```

### –û—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ –≤ Telegram
```bash
cd /root/basketball_project/scripts
python3 send_telegram_predictions.py
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ë–î
```bash
cd /root/basketball_project/scripts
python3 check_database.py
```

---

## üîÑ –ê–í–¢–û–ú–ê–¢–ò–ó–ê–¶–ò–Ø (CRON)

–°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é:

**05:00 –ú–°–ö** - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```bash
0 5 * * * /root/basketball_project/scripts/daily_update_db.sh
```

**06:00 –ú–°–ö** - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤
```bash
0 6 * * * /root/basketball_project/scripts/daily_predictions.sh
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
```bash
crontab -l
```

---

## üìÅ –°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê
```
/root/basketball_project/
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ basketball.db           # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite
‚îÇ   ‚îú‚îÄ‚îÄ games/                  # –ê—Ä—Ö–∏–≤ –∏–≥—Ä –ø–æ –ª–∏–≥–∞–º
‚îÇ   ‚îî‚îÄ‚îÄ games_daily/            # –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
‚îú‚îÄ‚îÄ ml_models/
‚îÇ   ‚îú‚îÄ‚îÄ league_*/               # –ú–æ–¥–µ–ª–∏ –ø–æ –ª–∏–≥–∞–º (322 –º–æ–¥–µ–ª–∏)
‚îÇ   ‚îî‚îÄ‚îÄ predictions_today_v7.json  # –¢–µ–∫—É—â–∏–µ –ø—Ä–æ–≥–Ω–æ–∑—ã
‚îú‚îÄ‚îÄ scripts/                    # –†–∞–±–æ—á–∏–µ —Å–∫—Ä–∏–ø—Ç—ã
‚îú‚îÄ‚îÄ docs/                       # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ leagues_whitelist.tsv   # –°–ø–∏—Å–æ–∫ –ª–∏–≥
‚îÇ   ‚îî‚îÄ‚îÄ PROJECT_MAP.md          # –ö–∞—Ä—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ logs/                       # –õ–æ–≥–∏
‚îú‚îÄ‚îÄ archive/                    # –ê—Ä—Ö–∏–≤ (–Ω–µ—Ä–∞–±–æ—Ç–∞—é—â–∏–µ —Å–∫—Ä–∏–ø—Ç—ã)
‚îî‚îÄ‚îÄ venv/                       # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
```

---

## üîß –û–ë–°–õ–£–ñ–ò–í–ê–ù–ò–ï

### –ü–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π
```bash
cd /root/basketball_project/ml_models

# –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
python3 prepare_data_by_league_v2.py

# –û–±—É—á–∏—Ç—å –º–æ–¥–µ–ª–∏
python3 train_all_leagues_v2.py
```

### –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö
```bash
# –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∏–≥—Ä—ã (—Å—Ç–∞—Ä—à–µ 7 –¥–Ω–µ–π)
find /root/basketball_project/data/games_daily/ -name "*.json" -mtime +7 -delete

# –û—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –ª–æ–≥–∏ (—Å—Ç–∞—Ä—à–µ 30 –¥–Ω–µ–π)
find /root/basketball_project/logs/ -name "*.log" -mtime +30 -delete
```

---

## üìä API –ò –°–ï–†–í–ò–°–´

- **API-Sports Basketball:** https://v1.basketball.api-sports.io
- **API Key:** 6dc287e35314e0b439ea8897718da7ab
- **Telegram Bot Token:** 8576728394:AAG1FMwKNURp96hLYJOOjdg8IlBVL6J7i0A
- **Telegram Chat ID:** 8411096355

---

## üìñ –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø

- **–ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** `/root/basketball_project/docs/–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è_–ø—Ä–æ–µ–∫—Ç_–±–∞—Å–∫–µ—Ç–±–æ–ª_31_12_25_.txt`
- **–ö–∞—Ä—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞:** `/root/basketball_project/docs/PROJECT_MAP.md`
- **Whitelist –ª–∏–≥:** `/root/basketball_project/docs/leagues_whitelist.tsv`

---

## ‚ö†Ô∏è –ò–ó–í–ï–°–¢–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

1. **update_auxiliary_data.py** - –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (–≤ –∞—Ä—Ö–∏–≤–µ)
   - –¢–∞–±–ª–∏—Ü—ã team_h2h, team_fatigue, team_trends –ø—É—Å—Ç—ã–µ
   - –¢—Ä–µ–±—É–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

2. **–§–æ—Ä—ã –¥–ª—è —á–µ—Ç–≤–µ—Ä—Ç–µ–π/–ø–æ–ª–æ–≤–∏–Ω** - –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
   - –¢–æ–ª—å–∫–æ –∏—Å—Ö–æ–¥—ã (winner)

3. **–£–º–Ω—ã–µ —Ç–æ—Ç–∞–ª—ã** - –±–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è
   - –ù—É–∂–Ω–∞ –¥–æ—Ä–∞–±–æ—Ç–∫–∞ —Å —É—á—ë—Ç–æ–º —Å–æ–ø–µ—Ä–Ω–∏–∫–∞

---

## üéØ –ü–õ–ê–ù –†–ê–ó–í–ò–¢–ò–Ø

**–§–ê–ó–ê 2:** –§–æ—Ä—ã –¥–ª—è —á–µ—Ç–≤–µ—Ä—Ç–µ–π –∏ –ø–æ–ª–æ–≤–∏–Ω
**–§–ê–ó–ê 3:** –£–º–Ω—ã–µ —Ç–æ—Ç–∞–ª—ã —Å —É—á—ë—Ç–æ–º —Å–æ–ø–µ—Ä–Ω–∏–∫–∞  
**–§–ê–ó–ê 4:** –ò—Å–ø—Ä–∞–≤–∏—Ç—å update_auxiliary_data.py
**–§–ê–ó–ê 5:** –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

---

## üí° –ö–û–ù–¢–ê–ö–¢–´

- **–°–µ—Ä–≤–µ—Ä:** Timeweb, Ubuntu 24
- **Python:** 3.12 + venv
- **–ë–∞–∑–∞:** SQLite (~10,504 –º–∞—Ç—á–∞)
- **–ú–æ–¥–µ–ª–∏:** 322 (23 —Ç–∏–ø–∞ √ó 14 –ª–∏–≥)

---

–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 2025-01-02
